generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Survey {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  studentOrProfessional String
  worksInFoodIndustry  Boolean
  knowsTechnicalSheet   String
  canMakeTechnicalSheet String
  knowsImportance       String
  name                 String
  phoneNumber          String
  email                String
  consent              Boolean @default(false)
  created_at           DateTime @default(now())
}


model Ingredient {
  id   String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  type String
  FC   Float
  IC   Float

  technicalSheets TechnicalSheet[]
}

model TechnicalSheet {
  id           String             @id @default(auto()) @map("_id") @db.ObjectId
  created_at   DateTime           @default(now())
  dishName     String
  ingredients  IngredientDetail[]
  totalPrice   Float
  recipeSize   Float
  Ingredient   Ingredient?        @relation(fields: [ingredientId], references: [id])
  ingredientId String?            @db.ObjectId
}

type IngredientDetail {
  ingredientId String @db.ObjectId
  finalWeight  Float
  finalPrice   Float
}
